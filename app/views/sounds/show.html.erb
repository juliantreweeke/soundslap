<h1><%= @sounds.title %></h1>

<div class="sound"></div>

<div style="text-align: center">
  <button class="btn">
    Play
  </button>

  <!-- old one -->


  <button class="buttonDownload"><a href="http://res.cloudinary.com/dsxf8cujo/video/upload/v1497938309/<%= @sounds.image %>.wav" download>Download</a></button>




  <!-- link_to("Download", cl_private_download_url(<%= @sounds.image %>, :jpg, :attachment => true))  -->


  </p>
</div>




<!-- this is the cloudinary line in the show page -->












<p><%= @sounds.description %></p>


<p>Uploaded by: <%= link_to @sounds.user.name, user_path(@sounds.user) %>


<!-- display tags -->
<p>Tags:
  <% @sounds.tags.each do |tag| %>

     <%= link_to tag.name, search_path(:q => tag.name) %>

  <% end %>

<br><p>Plays: <%= @sounds.plays %></p>



</p>

<% if @current_user == @user || @current_user.is_admin %>

<%= link_to 'Edit', edit_sound_path %> |
<%= link_to "Delete", @sound, method: :delete,
                                  data: { confirm: "You sure?" } %>
<% end %>


<script>

$(document).ready(function(){


  // old code before cloudinary
  var play = "<%= @sounds.image %>";

  // new code that works with cloudinary
  var cloudsound ="http://res.cloudinary.com/dsxf8cujo/video/upload/v1497938309/<%= @sounds.image %>.wav"

  // cloudinary only spits out slap1_zvfjzc








  // var cloudsound ="http://res.cloudinary.com/dsxf8cujo/video/upload/v1497938309/<%= @sounds.image %>.wav"

  wavesurfer.load(cloudsound);

  $(".sound").click(function() {
   wavesurfer.playPause()

  });
  $(".btn").click(function() {
   wavesurfer.playPause()


  });

});

</script>
